{% extends 'base.html' %}
{% load static %}
{% block title %} 22G read count {% endblock %}
{% block content %}
{% csrf_token %}
<script>csrf_token= "{{ csrf_token }}"</script>
<!-- DataTables -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
<link rel="stylesheet" href="../../static/css/read_count.css"> 
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>  
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://unpkg.com/popper.js@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@6.3.0/dist/tippy-bundle.umd.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/tippy.js/dist/tippy.css">
<script src="https://unpkg.com/tippy.js@6"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js"></script>
<!-- Popper.js -->
<script src="https://unpkg.com/popper.js@2"></script>

<div class="container">
    <div class="card mt-3">
        
        <div class="card-header fs-5 fw-bold">
            Search
        </div>   
        <table id="target_table" class="cell-border hover no-footer dataTable">
            <thead>
                <tr>
                    <th><input type="checkbox" id="select_all" onclick="toggleAll(this)"> Select all</th>
                    <th>RNANAME</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be added dynamically -->
            </tbody>
        </table>
        
        <button class="btn btn-outline-primary" id="submit">Search</button>
        <div id='tag1'class="card-body">
  
    </div>
</div>

<!-- select all button -->
<script>
function toggleAll() {
    var selectAllCheckbox = document.getElementById('select_all');

    $('#target_table').DataTable().rows().every(function () {
        // Access the row data
        var rowData = this.data();

        // Find the checkbox in each row and set its checked state
        var checkbox = this.nodes().to$().find('.pirtarbase_checkbox');
        if (checkbox.length > 0) {
            checkbox.prop('checked', selectAllCheckbox.checked);
        }
    });
}
</script>

<script src="{% static 'js/read_count.js' %}"></script>
{% endblock %}